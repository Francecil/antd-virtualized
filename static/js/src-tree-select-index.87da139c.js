(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"./src/_util/getPrefixCls.ts":function(e,t,n){"use strict";function a(e,t){var n=this.props.prefixCls,a=void 0===n?"ant-virtualized":n;return t||(e?"".concat(a,"-").concat(e):a)}n.d(t,"a",function(){return a}),a&&a===Object(a)&&Object.isExtensible(a)&&Object.defineProperty(a,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"getPrefixCls",filename:"src\\_util\\getPrefixCls.ts"}})},"./src/tree-select/index.mdx":function(e,t,n){"use strict";n.r(t);var a=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),r=n("react"),l=n.n(r),o=n("./node_modules/@mdx-js/react/dist/index.es.js"),s=n("./node_modules/docz/dist/index.esm.js"),i=(n("./node_modules/antd/es/select/style/index.js"),n("./node_modules/antd/es/select/index.js")),c=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread.js"),d=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),u=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),p=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),b=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),m=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js"),f=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js"),h=n("./node_modules/react-window/dist/index.esm.js"),v=n("./node_modules/memoize-one/dist/memoize-one.esm.js"),j=n("./src/tree/util.ts"),_=n("./src/_util/getPrefixCls.ts"),O=n("./src/tree/TreeNode.tsx");"undefined"!==typeof IProps&&IProps&&IProps===Object(IProps)&&Object.isExtensible(IProps)&&Object.defineProperty(IProps,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"IProps",filename:"src\\tree-select\\index.tsx"}}),"undefined"!==typeof IState&&IState&&IState===Object(IState)&&Object.isExtensible(IState)&&Object.defineProperty(IState,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"IState",filename:"src\\tree-select\\index.tsx"}});var y=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(u.a)(this,Object(p.a)(t).call(this,e))).avSelect=void 0,n.avList=void 0,n.saveSelect=function(e){n.avSelect=e},n.nodeList=Object(v.a)(function(e){return Object(j.a)(e)}),n.scrollActiveItemToView=function(){var e=n.props,t=e.treeData,a=e.valueField,r=n.state.value,l=n.nodeList(t).findIndex(function(e){return e[a]===(r||{}).key});n.avList.current&&n.avList.current.scrollToItem(l)},n.handleSearch=function(e){n.setState({searchValue:e})},n.handleSelect=function(e,t){var a=n.props,r=a.onChange,l=a.valueField,o=a.labelField,s={key:t[l],label:t[o]};r&&r(s),n.setState({value:s,searchValue:"",open:!1},function(){n.avSelect.rcSelect.setInputValue(""),n.avSelect.focus()})},n.handleChange=function(e){var t=n.props.onChange;t&&t(e),n.setState({value:e,searchValue:""})},n.handleDropdownVisibleChange=function(e){n.setState({open:e})},n.handleBlur=function(){n.setState({searchValue:""})},n._getItemSize=function(e){var t=n.props,a=t.optionHeight,r=t.treeData,l=n.nodeList(r);return a instanceof Function?a(l[e]):a},n.handleEventPrevent=function(e){return e.preventDefault()},n.filterOption=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:j.b,r=n.props.filterOption,l=r;return"filterOption"in n.props?!0===r&&(l=a.bind(Object(b.a)(n))):l=a.bind(Object(b.a)(n)),!l||("function"===typeof l?l.call(Object(b.a)(n),e,t):!t.disabled)},n.renderMenu=function(e){var t=n.props,a=t.valueField,r=t.labelField,o=t.filterOption,s=t.prefixCls,i=t.treeData,d=n.state,u=d.searchValue,p=d.value,m=n.nodeList(i);if(0===(o&&u?m.filter(function(e){return n.filterOption(u,e)}):m).length)return e;var f=n._calculateListHeight(m),v=_.a.call(Object(b.a)(n),"tree",s),j=p?[p]:null;return l.a.createElement("div",{onMouseDown:n.handleEventPrevent,className:v},l.a.createElement(h.a,{ref:n.avList,className:"".concat(v,"-menu"),height:f,itemCount:n.nodeList(i).length,itemSize:n._getItemSize,width:"200px"},function(e){var t=e.index,o=e.style,s=m[t],i=Object(c.a)({onSelect:n.handleSelect,labelField:r,option:s},s,{style:o,valueArray:p?[p]:null,valueField:a,prefixCls:v,selected:j&&j.some(function(e){return e.key===s[a]})});return l.a.createElement(O.a,i)}))},n.state={value:e.value||e.defaultValue,searchValue:"",open:!1},n.avList=l.a.createRef(),n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t){var n=this.state.open;!t.open&&n&&this.scrollActiveItemToView()}}],[{key:"getDerivedStateFromProps",value:function(e){return"value"in e?{value:e.value||void 0}:null}}]),Object(m.a)(t,[{key:"_calculateListHeight",value:function(e){for(var t=this.props.height,n=0,a=0;a<e.length;a++)if((n+=this._getItemSize(a))>t)return t;return n}},{key:"render",value:function(){var e=this,t=this.state,n=t.value,r=t.open,o=this.props,s=o.labelField,c=Object(a.a)(o,["labelField"]);return l.a.createElement(i.a,Object.assign({},c,{value:n,ref:this.saveSelect,open:r,onSearch:function(t){return e.handleSearch(t)},onChange:this.handleChange,onBlur:function(){return e.handleBlur()},labelInValue:!0,optionLabelProp:s,onDropdownVisibleChange:this.handleDropdownVisibleChange,dropdownRender:this.renderMenu,dropdownStyle:{overflow:"hidden"}}))}}]),t}(r.Component);y.defaultProps={height:256,optionHeight:32,labelField:"label",valueField:"value",treeData:[]},"undefined"!==typeof y&&y&&y===Object(y)&&Object.isExtensible(y)&&Object.defineProperty(y,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"VirtualizedTreeSelect",filename:"src\\tree-select\\index.tsx"}}),"undefined"!==typeof y&&y&&y===Object(y)&&Object.isExtensible(y)&&Object.defineProperty(y,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"VirtualizedTreeSelect",filename:"src\\tree-select\\index.tsx"}});n("./src/tree-select/style/index.less");var x=n("./src/tree/_mock/treeData.js");n.d(t,"default",function(){return P});var g={},S="wrapper";function P(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(o.b)(S,Object.assign({},g,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("h1",{id:"treeselect-\u6811\u9009\u62e9"},"TreeSelect \u6811\u9009\u62e9"),Object(o.b)("p",null,"\u6811\u578b\u9009\u62e9\u63a7\u4ef6\u3002"),Object(o.b)("h2",{id:"\u5f15\u5165"},"\u5f15\u5165"),Object(o.b)("pre",null,Object(o.b)("code",Object.assign({parentName:"pre"},{}),"import { TreeSelect } from 'antd-virtualized';\n")),Object(o.b)("h2",{id:"\u4ee3\u7801\u6f14\u793a"},"\u4ee3\u7801\u6f14\u793a"),Object(o.b)("p",null,"\u57fa\u672c\u4f7f\u7528"),Object(o.b)(s.c,{__position:0,__code:'<TreeSelect\n  placeholder="\u652f\u6301\u5927\u6570\u636e\u7684TreeSelect"\n  labelField="key"\n  treeData={treeData}\n  valueField="value"\n  style={{ width: 200 }}\n/>',__scope:{props:this?this.props:n,Playground:s.c,Props:s.d,TreeSelect:y,treeData:x.a},__codesandbox:"undefined",mdxType:"Playground"},Object(o.b)(y,{placeholder:"\u652f\u6301\u5927\u6570\u636e\u7684TreeSelect",labelField:"key",treeData:x.a,valueField:"value",style:{width:200},mdxType:"TreeSelect"})),Object(o.b)("h2",{id:"api"},"API"),Object(o.b)(s.d,{of:y,mdxType:"Props"}))}P&&P===Object(P)&&Object.isExtensible(P)&&Object.defineProperty(P,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"MDXContent",filename:"src\\tree-select\\index.mdx"}}),P.isMDXComponent=!0},"./src/tree-select/style/index.less":function(e,t,n){},"./src/tree/TreeNode.tsx":function(e,t,n){"use strict";var a=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread.js"),r=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),l=(n("./node_modules/antd/es/icon/style/index.js"),n("./node_modules/antd/es/icon/index.js")),o=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),s=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js"),i=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),c=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),d=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js"),u=n("react"),p=n.n(u),b=n("./node_modules/classnames/index.js"),m=n.n(b);"undefined"!==typeof IProps&&IProps&&IProps===Object(IProps)&&Object.isExtensible(IProps)&&Object.defineProperty(IProps,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"IProps",filename:"src\\tree\\TreeNode.tsx"}}),"undefined"!==typeof NodeData&&NodeData&&NodeData===Object(NodeData)&&Object.isExtensible(NodeData)&&Object.defineProperty(NodeData,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"NodeData",filename:"src\\tree\\TreeNode.tsx"}});var f="open",h="close",v=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(i.a)(this,Object(c.a)(t).call(this,e))).onSelectorClick=function(){},n.onSelectorDoubleClick=function(){},n.handleSelect=function(e){var t=n.props,a=t.onSelect,r=t.option;a&&a(e,r)},n.onCheck=function(){},n.onMouseEnter=function(){},n.onMouseLeave=function(){},n.onExpand=function(){},n.isDisabled=function(){},n.isCheckable=function(){},n.renderSwitcherIcon=function(){var e=n.props,t=e.prefixCls;return e.isLeaf?null:p.a.createElement(l.a,{type:"caret-down",className:"".concat(t,"-switcher-icon")})},n.renderSwitcher=function(){var e=n.props,t=e.expanded,a=e.prefixCls;if(e.isLeaf)return p.a.createElement("span",{className:m()("".concat(a,"-switcher"),"".concat(a,"-switcher-noop"))},n.renderSwitcherIcon());var r=m()("".concat(a,"-switcher"),"".concat(a,"-switcher_").concat(t?f:h));return p.a.createElement("span",{onClick:n.onExpand,className:r},n.renderSwitcherIcon())},n.state={},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e,t=this.props,n=t.value,l=t.style,o=t.disabled,s=t.prefixCls,i=t._level,c=t.expanded,d=t.isLeaf,u=t.selected,b=m()("".concat(s,"-node-content-wrapper"),(e={},Object(r.a)(e,"".concat(s,"-node-disabled"),o),Object(r.a)(e,"".concat(s,"-node-switcher-").concat(c?"open":"close"),!d),Object(r.a)(e,"".concat(s,"-node-selected"),u),e)),f=i>0?24*(i-1)+18:0,h=Object(a.a)({},l,{padding:"0 0 0 ".concat(f,"px")}),v=o?{}:{onClick:this.handleSelect};return p.a.createElement("div",{style:h,className:"".concat(s,"-node")},this.renderSwitcher(),p.a.createElement("span",Object.assign({},v,{className:b}),n))}}]),t}(p.a.Component);t.a=v,"undefined"!==typeof v&&v&&v===Object(v)&&Object.isExtensible(v)&&Object.defineProperty(v,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"TreeNode",filename:"src\\tree\\TreeNode.tsx"}})},"./src/tree/_mock/treeData.js":function(e,t,n){"use strict";var a=[{title:"Node1",value:"0-0",key:"0-0",children:[{title:"Child Node1",value:"0-0-1",key:"0-0-1"},{title:"Child Node2",value:"0-0-2",key:"0-0-2",children:Array.from(Array.from({length:50}).map(function(e,t){return{title:"Child Node"+t,value:"0-0-2-"+t,key:"0-0-2-"+t}}))}]},{title:"Node2",value:"0-1",key:"0-1",children:[{title:"Child Node1",value:"0-1-1",key:"0-1-1"},{title:"Child Node2",value:"0-1-2",key:"0-1-2"}]}];t.a=a,"undefined"!==typeof a&&a&&a===Object(a)&&Object.isExtensible(a)&&Object.defineProperty(a,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"treeData",filename:"src\\tree\\_mock\\treeData.js"}})},"./src/tree/util.ts":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o});var a=n("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread.js");function r(e,t){return!t.disabled&&t[this.props.optionFilterProp].toLowerCase().indexOf(e.toLowerCase())>-1}function l(e){for(var t,n,a=0,r=0;r<e.length;r++)a+=(t=e[r],n=void 0,(n=t.children)&&0!==n.length?2:1);return a}function o(e){for(var t=[],n=function e(n,r,l,o){var s=!(n.children&&n.children.length>0);if(t.push(Object(a.a)({},n,{_level:r,_pid:l,_id:o,isLeaf:s,expanded:!1,children:void 0})),!s)for(var i=0;i<n.children.length;i++)e(n.children[i],r+1,o,"".concat(o,"-").concat(i))},r=0;r<e.length;r++)n(e[r],0,"0","0-".concat(r));return t}r&&r===Object(r)&&Object.isExtensible(r)&&Object.defineProperty(r,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"defaultFilterFn",filename:"src\\tree\\util.ts"}}),l&&l===Object(l)&&Object.isExtensible(l)&&Object.defineProperty(l,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"calcNodeTotal",filename:"src\\tree\\util.ts"}}),o&&o===Object(o)&&Object.isExtensible(o)&&Object.defineProperty(o,"__filemeta",{enumerable:!0,configurable:!0,value:{name:"convertTreeToList",filename:"src\\tree\\util.ts"}})}}]);